# This is a basic workflow to help you get started with Actions

# name: CI

# Controls when the workflow will run
# on:
  # Triggers the workflow on push or pull request events but only for the main branch
  # push:
  #   branches: [ main ]
  # pull_request:
  #   branches: [ main ]

  # Allows you to run this workflow manually from the Actions tab
  # workflow_dispatch:

# A workflow run is made up of one or more jobs that can run sequentially or in parallel
# jobs:
  # This workflow contains a single job called "build"
  # build:
    # The type of runner that the job will run on
    # runs-on: ubuntu-latest
    
    # Steps represent a sequence of tasks that will be executed as part of the job
    # steps:
      # Checks-out your repository under $GITHUB_WORKSPACE, so your job can access it
      # - uses: actions/checkout@v2

      # Runs a single command using the runners shell
      # - name: Run a one-line script
        # run: echo Starting
        
      # Runs a single command to set and cut Github SHA as a step var of length of 7
      # - name: Github SHA
        # id: github-sha-short
        # run: echo "::set-output name=sha_short::$(echo ${{github.sha}} | cut -c1-7)"
        
      # - name: AWS ECR
        # You may pin to the exact commit or the version.
        # uses: kciter/aws-ecr-action@79255b7c5aa03dbf6d7c46cff2bfd049874cd98d
        # uses: kciter/aws-ecr-action@v4
        # with:
          # The AWS access key id
          # access_key_id: ${{secrets.ACCESS_KEY_ID}}
          # The AWS secret access key
          # secret_access_key: ${{secrets.SECRET_ACCESS_KEY}}
          # AWS Account ID
          # account_id: ${{secrets.ACCOUNT_ID}}
          # A role to assume under the account_id account.
          # assume_role: # optional, default is 
          # Name of your ECR repository
          # repo: cmuat
          # ${{secrets.REPO}}
          # The AWS region
          # region: us-east-1
          # ${{secrets.REGION}}
          # Set this to true to create the repository if it does not already exist
          # create_repo: # optional
          # Set this to true to set a policy on the repository
          # set_repo_policy: # optional
          # Set this to repository policy statement json file. only used if the set_repo_policy is set to true
          # repo_policy_file: # optional, default is repo-policy.json
          # Comma-separated string of ECR image tags
          # tags: latest.${{ steps.github-sha-short.outputs.sha_short }}
          # optional, default is latest
          # Name of Dockerfile to use
          # dockerfile: # optional, default is Dockerfile
          # Extra flags to pass to docker build (see docs.docker.com/engine/reference/commandline/build)
          # extra_build_args: # optional, default is 
          # Images to use as cache for the docker build (see `--cache-from` argument docs.docker.com/engine/reference/commandline/build)
          # cache_from: # optional, default is 
          # Path to Dockerfile, defaults to the working directory
          # path: "./helloworld/"
          # optional, default is .
          # Relative path from top-level to script to run before Docker build
          # prebuild_script: # optional
